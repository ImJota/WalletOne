{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WalletMultiButton = void 0;\n\nconst wallet_adapter_react_1 = require(\"@solana/wallet-adapter-react\");\n\nconst react_1 = __importStar(require(\"react\"));\n\nconst Button_1 = require(\"./Button\");\n\nconst useWalletModal_1 = require(\"./useWalletModal\");\n\nconst WalletConnectButton_1 = require(\"./WalletConnectButton\");\n\nconst WalletIcon_1 = require(\"./WalletIcon\");\n\nconst WalletModalButton_1 = require(\"./WalletModalButton\");\n\nconst WalletMultiButton = _a => {\n  var {\n    children\n  } = _a,\n      props = __rest(_a, [\"children\"]);\n\n  const {\n    publicKey,\n    wallet,\n    disconnect\n  } = (0, wallet_adapter_react_1.useWallet)();\n  const {\n    setVisible\n  } = (0, useWalletModal_1.useWalletModal)();\n  const [copied, setCopied] = (0, react_1.useState)(false);\n  const [active, setActive] = (0, react_1.useState)(false);\n  const ref = (0, react_1.useRef)(null);\n  const base58 = (0, react_1.useMemo)(() => publicKey === null || publicKey === void 0 ? void 0 : publicKey.toBase58(), [publicKey]);\n  const content = (0, react_1.useMemo)(() => {\n    if (children) return children;\n    if (!wallet || !base58) return null;\n    return base58.slice(0, 4) + '..' + base58.slice(-4);\n  }, [children, wallet, base58]);\n  const copyAddress = (0, react_1.useCallback)(() => __awaiter(void 0, void 0, void 0, function* () {\n    if (base58) {\n      yield navigator.clipboard.writeText(base58);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 400);\n    }\n  }), [base58]);\n  const openDropdown = (0, react_1.useCallback)(() => setActive(true), [setActive]);\n  const closeDropdown = (0, react_1.useCallback)(() => setActive(false), [setActive]);\n  const openModal = (0, react_1.useCallback)(() => {\n    setVisible(true);\n    closeDropdown();\n  }, [setVisible, closeDropdown]);\n  (0, react_1.useEffect)(() => {\n    const listener = event => {\n      const node = ref.current; // Do nothing if clicking dropdown or its descendants\n\n      if (!node || node.contains(event.target)) return;\n      closeDropdown();\n    };\n\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n    return () => {\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, closeDropdown]);\n  if (!wallet) return react_1.default.createElement(WalletModalButton_1.WalletModalButton, Object.assign({}, props));\n  if (!base58) return react_1.default.createElement(WalletConnectButton_1.WalletConnectButton, Object.assign({}, props));\n  return react_1.default.createElement(\"div\", {\n    className: \"wallet-adapter-dropdown\"\n  }, react_1.default.createElement(Button_1.Button, Object.assign({\n    \"aria-expanded\": active,\n    className: \"wallet-adapter-button-trigger\",\n    style: Object.assign({\n      pointerEvents: active ? 'none' : 'auto'\n    }, props.style),\n    onClick: openDropdown,\n    startIcon: react_1.default.createElement(WalletIcon_1.WalletIcon, {\n      wallet: wallet\n    })\n  }, props), content), react_1.default.createElement(\"ul\", {\n    \"aria-label\": \"dropdown-list\",\n    className: `wallet-adapter-dropdown-list ${active && 'wallet-adapter-dropdown-list-active'}`,\n    ref: ref,\n    role: \"menu\"\n  }, react_1.default.createElement(\"li\", {\n    onClick: copyAddress,\n    className: \"wallet-adapter-dropdown-list-item\",\n    role: \"menuitem\"\n  }, copied ? 'Copied' : 'Copy address'), react_1.default.createElement(\"li\", {\n    onClick: openModal,\n    className: \"wallet-adapter-dropdown-list-item\",\n    role: \"menuitem\"\n  }, \"Connect a different wallet\"), react_1.default.createElement(\"li\", {\n    onClick: disconnect,\n    className: \"wallet-adapter-dropdown-list-item\",\n    role: \"menuitem\"\n  }, \"Disconnect\")));\n};\n\nexports.WalletMultiButton = WalletMultiButton;","map":{"version":3,"sources":["../src/WalletMultiButton.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletMultiButton = void 0;\nconst wallet_adapter_react_1 = require(\"@solana/wallet-adapter-react\");\nconst react_1 = __importStar(require(\"react\"));\nconst Button_1 = require(\"./Button\");\nconst useWalletModal_1 = require(\"./useWalletModal\");\nconst WalletConnectButton_1 = require(\"./WalletConnectButton\");\nconst WalletIcon_1 = require(\"./WalletIcon\");\nconst WalletModalButton_1 = require(\"./WalletModalButton\");\nconst WalletMultiButton = (_a) => {\n    var { children } = _a, props = __rest(_a, [\"children\"]);\n    const { publicKey, wallet, disconnect } = (0, wallet_adapter_react_1.useWallet)();\n    const { setVisible } = (0, useWalletModal_1.useWalletModal)();\n    const [copied, setCopied] = (0, react_1.useState)(false);\n    const [active, setActive] = (0, react_1.useState)(false);\n    const ref = (0, react_1.useRef)(null);\n    const base58 = (0, react_1.useMemo)(() => publicKey === null || publicKey === void 0 ? void 0 : publicKey.toBase58(), [publicKey]);\n    const content = (0, react_1.useMemo)(() => {\n        if (children)\n            return children;\n        if (!wallet || !base58)\n            return null;\n        return base58.slice(0, 4) + '..' + base58.slice(-4);\n    }, [children, wallet, base58]);\n    const copyAddress = (0, react_1.useCallback)(() => __awaiter(void 0, void 0, void 0, function* () {\n        if (base58) {\n            yield navigator.clipboard.writeText(base58);\n            setCopied(true);\n            setTimeout(() => setCopied(false), 400);\n        }\n    }), [base58]);\n    const openDropdown = (0, react_1.useCallback)(() => setActive(true), [setActive]);\n    const closeDropdown = (0, react_1.useCallback)(() => setActive(false), [setActive]);\n    const openModal = (0, react_1.useCallback)(() => {\n        setVisible(true);\n        closeDropdown();\n    }, [setVisible, closeDropdown]);\n    (0, react_1.useEffect)(() => {\n        const listener = (event) => {\n            const node = ref.current;\n            // Do nothing if clicking dropdown or its descendants\n            if (!node || node.contains(event.target))\n                return;\n            closeDropdown();\n        };\n        document.addEventListener('mousedown', listener);\n        document.addEventListener('touchstart', listener);\n        return () => {\n            document.removeEventListener('mousedown', listener);\n            document.removeEventListener('touchstart', listener);\n        };\n    }, [ref, closeDropdown]);\n    if (!wallet)\n        return react_1.default.createElement(WalletModalButton_1.WalletModalButton, Object.assign({}, props));\n    if (!base58)\n        return react_1.default.createElement(WalletConnectButton_1.WalletConnectButton, Object.assign({}, props));\n    return (react_1.default.createElement(\"div\", { className: \"wallet-adapter-dropdown\" },\n        react_1.default.createElement(Button_1.Button, Object.assign({ \"aria-expanded\": active, className: \"wallet-adapter-button-trigger\", style: Object.assign({ pointerEvents: active ? 'none' : 'auto' }, props.style), onClick: openDropdown, startIcon: react_1.default.createElement(WalletIcon_1.WalletIcon, { wallet: wallet }) }, props), content),\n        react_1.default.createElement(\"ul\", { \"aria-label\": \"dropdown-list\", className: `wallet-adapter-dropdown-list ${active && 'wallet-adapter-dropdown-list-active'}`, ref: ref, role: \"menu\" },\n            react_1.default.createElement(\"li\", { onClick: copyAddress, className: \"wallet-adapter-dropdown-list-item\", role: \"menuitem\" }, copied ? 'Copied' : 'Copy address'),\n            react_1.default.createElement(\"li\", { onClick: openModal, className: \"wallet-adapter-dropdown-list-item\", role: \"menuitem\" }, \"Connect a different wallet\"),\n            react_1.default.createElement(\"li\", { onClick: disconnect, className: \"wallet-adapter-dropdown-list-item\", role: \"menuitem\" }, \"Disconnect\"))));\n};\nexports.WalletMultiButton = WalletMultiButton;\n//# sourceMappingURL=WalletMultiButton.js.map"]},"metadata":{},"sourceType":"script"}