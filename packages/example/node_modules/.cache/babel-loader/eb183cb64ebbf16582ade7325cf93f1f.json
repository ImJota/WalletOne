{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"/home/jose/Documentos/Proyects/wallet/wallet-adapter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WalletModal = void 0;\n\nvar wallet_adapter_react_1 = require(\"@solana/wallet-adapter-react\");\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar react_dom_1 = require(\"react-dom\");\n\nvar Button_1 = require(\"./Button\");\n\nvar Collapse_1 = require(\"./Collapse\");\n\nvar useWalletModal_1 = require(\"./useWalletModal\");\n\nvar WalletListItem_1 = require(\"./WalletListItem\");\n\nvar WalletModal = function WalletModal(_ref) {\n  var _ref$className = _ref.className,\n      className = _ref$className === void 0 ? '' : _ref$className,\n      logo = _ref.logo,\n      _ref$featuredWallets = _ref.featuredWallets,\n      featuredWallets = _ref$featuredWallets === void 0 ? 3 : _ref$featuredWallets,\n      _ref$container = _ref.container,\n      container = _ref$container === void 0 ? 'body' : _ref$container;\n  var ref = (0, react_1.useRef)(null);\n\n  var _ref2 = (0, wallet_adapter_react_1.useWallet)(),\n      wallets = _ref2.wallets,\n      select = _ref2.select;\n\n  var _ref3 = (0, useWalletModal_1.useWalletModal)(),\n      setVisible = _ref3.setVisible;\n\n  var _ref4 = (0, react_1.useState)(false),\n      _ref5 = _slicedToArray(_ref4, 2),\n      expanded = _ref5[0],\n      setExpanded = _ref5[1];\n\n  var _ref6 = (0, react_1.useState)(false),\n      _ref7 = _slicedToArray(_ref6, 2),\n      fadeIn = _ref7[0],\n      setFadeIn = _ref7[1];\n\n  var _ref8 = (0, react_1.useState)(null),\n      _ref9 = _slicedToArray(_ref8, 2),\n      portal = _ref9[0],\n      setPortal = _ref9[1];\n\n  var _ref10 = (0, react_1.useMemo)(function () {\n    return [wallets.slice(0, featuredWallets), wallets.slice(featuredWallets)];\n  }, [wallets, featuredWallets]),\n      _ref11 = _slicedToArray(_ref10, 2),\n      featured = _ref11[0],\n      more = _ref11[1];\n\n  var hideModal = (0, react_1.useCallback)(function () {\n    setFadeIn(false);\n    setTimeout(function () {\n      return setVisible(false);\n    }, 150);\n  }, [setFadeIn, setVisible]);\n  var handleClose = (0, react_1.useCallback)(function (event) {\n    event.preventDefault();\n    hideModal();\n  }, [hideModal]);\n  var handleWalletClick = (0, react_1.useCallback)(function (event, walletName) {\n    select(walletName);\n    handleClose(event);\n  }, [select, handleClose]);\n  var handleCollapseClick = (0, react_1.useCallback)(function () {\n    return setExpanded(!expanded);\n  }, [setExpanded, expanded]);\n  var handleTabKey = (0, react_1.useCallback)(function (event) {\n    var node = ref.current;\n    if (!node) return; // here we query all focusable elements\n\n    var focusableElements = node.querySelectorAll('button');\n    var firstElement = focusableElements[0];\n    var lastElement = focusableElements[focusableElements.length - 1];\n\n    if (event.shiftKey) {\n      // if going backward by pressing tab and firstElement is active, shift focus to last focusable element\n      if (document.activeElement === firstElement) {\n        lastElement.focus();\n        event.preventDefault();\n      }\n    } else {\n      // if going forward by pressing tab and lastElement is active, shift focus to first focusable element\n      if (document.activeElement === lastElement) {\n        firstElement.focus();\n        event.preventDefault();\n      }\n    }\n  }, [ref]);\n  (0, react_1.useLayoutEffect)(function () {\n    var handleKeyDown = function handleKeyDown(event) {\n      if (event.key === 'Escape') {\n        hideModal();\n      } else if (event.key === 'Tab') {\n        handleTabKey(event);\n      }\n    }; // Get original overflow\n\n\n    var _window$getComputedSt = window.getComputedStyle(document.body),\n        overflow = _window$getComputedSt.overflow; // Hack to enable fade in animation after mount\n\n\n    setTimeout(function () {\n      return setFadeIn(true);\n    }, 0); // Prevent scrolling on mount\n\n    document.body.style.overflow = 'hidden'; // Listen for keydown events\n\n    window.addEventListener('keydown', handleKeyDown, false);\n    return function () {\n      // Re-enable scrolling when component unmounts\n      document.body.style.overflow = overflow;\n      window.removeEventListener('keydown', handleKeyDown, false);\n    };\n  }, [hideModal, handleTabKey]);\n  (0, react_1.useLayoutEffect)(function () {\n    return setPortal(document.querySelector(container));\n  }, [setPortal, container]);\n  return portal && (0, react_dom_1.createPortal)(react_1.default.createElement(\"div\", {\n    \"aria-labelledby\": \"wallet-adapter-modal-title\",\n    \"aria-modal\": \"true\",\n    className: \"wallet-adapter-modal \".concat(fadeIn && 'wallet-adapter-modal-fade-in', \" \").concat(className),\n    ref: ref,\n    role: \"dialog\"\n  }, react_1.default.createElement(\"div\", {\n    className: \"wallet-adapter-modal-container\"\n  }, react_1.default.createElement(\"div\", {\n    className: \"wallet-adapter-modal-wrapper \".concat(!logo && 'wallet-adapter-modal-wrapper-no-logo')\n  }, logo && react_1.default.createElement(\"div\", {\n    className: \"wallet-adapter-modal-logo-wrapper\"\n  }, typeof logo === 'string' ? react_1.default.createElement(\"img\", {\n    alt: \"logo\",\n    className: \"wallet-adapter-modal-logo\",\n    src: logo\n  }) : logo), react_1.default.createElement(\"h1\", {\n    className: \"wallet-adapter-modal-title\",\n    id: \"wallet-adapter-modal-title\"\n  }, \"Connect Wallet\"), react_1.default.createElement(\"button\", {\n    onClick: handleClose,\n    className: \"wallet-adapter-modal-button-close\"\n  }, react_1.default.createElement(\"svg\", {\n    width: \"14\",\n    height: \"14\"\n  }, react_1.default.createElement(\"path\", {\n    d: \"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z\"\n  }))), react_1.default.createElement(\"ul\", {\n    className: \"wallet-adapter-modal-list\"\n  }, featured.map(function (wallet) {\n    return react_1.default.createElement(WalletListItem_1.WalletListItem, {\n      key: wallet.name,\n      handleClick: function handleClick(event) {\n        return handleWalletClick(event, wallet.name);\n      },\n      wallet: wallet\n    });\n  })), more.length ? react_1.default.createElement(react_1.default.Fragment, null, react_1.default.createElement(Collapse_1.Collapse, {\n    expanded: expanded,\n    id: \"wallet-adapter-modal-collapse\"\n  }, react_1.default.createElement(\"ul\", {\n    className: \"wallet-adapter-modal-list\"\n  }, more.map(function (wallet) {\n    return react_1.default.createElement(WalletListItem_1.WalletListItem, {\n      key: wallet.name,\n      handleClick: function handleClick(event) {\n        return handleWalletClick(event, wallet.name);\n      },\n      tabIndex: expanded ? 0 : -1,\n      wallet: wallet\n    });\n  }))), react_1.default.createElement(Button_1.Button, {\n    \"aria-controls\": \"wallet-adapter-modal-collapse\",\n    \"aria-expanded\": expanded,\n    className: \"wallet-adapter-modal-collapse-button \".concat(expanded && 'wallet-adapter-modal-collapse-button-active'),\n    endIcon: react_1.default.createElement(\"svg\", {\n      width: \"11\",\n      height: \"6\",\n      xmlns: \"http://www.w3.org/2000/svg\"\n    }, react_1.default.createElement(\"path\", {\n      d: \"m5.938 5.73 4.28-4.126a.915.915 0 0 0 0-1.322 1 1 0 0 0-1.371 0L5.253 3.736 1.659.272a1 1 0 0 0-1.371 0A.93.93 0 0 0 0 .932c0 .246.1.48.288.662l4.28 4.125a.99.99 0 0 0 1.37.01z\"\n    })),\n    onClick: handleCollapseClick\n  }, expanded ? 'Less' : 'More', \" options\")) : null)), react_1.default.createElement(\"div\", {\n    className: \"wallet-adapter-modal-overlay\",\n    onMouseDown: handleClose\n  })), portal);\n};\n\nexports.WalletModal = WalletModal;","map":{"version":3,"sources":["../src/WalletModal.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletModal = void 0;\nconst wallet_adapter_react_1 = require(\"@solana/wallet-adapter-react\");\nconst react_1 = __importStar(require(\"react\"));\nconst react_dom_1 = require(\"react-dom\");\nconst Button_1 = require(\"./Button\");\nconst Collapse_1 = require(\"./Collapse\");\nconst useWalletModal_1 = require(\"./useWalletModal\");\nconst WalletListItem_1 = require(\"./WalletListItem\");\nconst WalletModal = ({ className = '', logo, featuredWallets = 3, container = 'body', }) => {\n    const ref = (0, react_1.useRef)(null);\n    const { wallets, select } = (0, wallet_adapter_react_1.useWallet)();\n    const { setVisible } = (0, useWalletModal_1.useWalletModal)();\n    const [expanded, setExpanded] = (0, react_1.useState)(false);\n    const [fadeIn, setFadeIn] = (0, react_1.useState)(false);\n    const [portal, setPortal] = (0, react_1.useState)(null);\n    const [featured, more] = (0, react_1.useMemo)(() => [wallets.slice(0, featuredWallets), wallets.slice(featuredWallets)], [wallets, featuredWallets]);\n    const hideModal = (0, react_1.useCallback)(() => {\n        setFadeIn(false);\n        setTimeout(() => setVisible(false), 150);\n    }, [setFadeIn, setVisible]);\n    const handleClose = (0, react_1.useCallback)((event) => {\n        event.preventDefault();\n        hideModal();\n    }, [hideModal]);\n    const handleWalletClick = (0, react_1.useCallback)((event, walletName) => {\n        select(walletName);\n        handleClose(event);\n    }, [select, handleClose]);\n    const handleCollapseClick = (0, react_1.useCallback)(() => setExpanded(!expanded), [setExpanded, expanded]);\n    const handleTabKey = (0, react_1.useCallback)((event) => {\n        const node = ref.current;\n        if (!node)\n            return;\n        // here we query all focusable elements\n        const focusableElements = node.querySelectorAll('button');\n        const firstElement = focusableElements[0];\n        const lastElement = focusableElements[focusableElements.length - 1];\n        if (event.shiftKey) {\n            // if going backward by pressing tab and firstElement is active, shift focus to last focusable element\n            if (document.activeElement === firstElement) {\n                lastElement.focus();\n                event.preventDefault();\n            }\n        }\n        else {\n            // if going forward by pressing tab and lastElement is active, shift focus to first focusable element\n            if (document.activeElement === lastElement) {\n                firstElement.focus();\n                event.preventDefault();\n            }\n        }\n    }, [ref]);\n    (0, react_1.useLayoutEffect)(() => {\n        const handleKeyDown = (event) => {\n            if (event.key === 'Escape') {\n                hideModal();\n            }\n            else if (event.key === 'Tab') {\n                handleTabKey(event);\n            }\n        };\n        // Get original overflow\n        const { overflow } = window.getComputedStyle(document.body);\n        // Hack to enable fade in animation after mount\n        setTimeout(() => setFadeIn(true), 0);\n        // Prevent scrolling on mount\n        document.body.style.overflow = 'hidden';\n        // Listen for keydown events\n        window.addEventListener('keydown', handleKeyDown, false);\n        return () => {\n            // Re-enable scrolling when component unmounts\n            document.body.style.overflow = overflow;\n            window.removeEventListener('keydown', handleKeyDown, false);\n        };\n    }, [hideModal, handleTabKey]);\n    (0, react_1.useLayoutEffect)(() => setPortal(document.querySelector(container)), [setPortal, container]);\n    return (portal &&\n        (0, react_dom_1.createPortal)(react_1.default.createElement(\"div\", { \"aria-labelledby\": \"wallet-adapter-modal-title\", \"aria-modal\": \"true\", className: `wallet-adapter-modal ${fadeIn && 'wallet-adapter-modal-fade-in'} ${className}`, ref: ref, role: \"dialog\" },\n            react_1.default.createElement(\"div\", { className: \"wallet-adapter-modal-container\" },\n                react_1.default.createElement(\"div\", { className: `wallet-adapter-modal-wrapper ${!logo && 'wallet-adapter-modal-wrapper-no-logo'}` },\n                    logo && (react_1.default.createElement(\"div\", { className: \"wallet-adapter-modal-logo-wrapper\" }, typeof logo === 'string' ? (react_1.default.createElement(\"img\", { alt: \"logo\", className: \"wallet-adapter-modal-logo\", src: logo })) : (logo))),\n                    react_1.default.createElement(\"h1\", { className: \"wallet-adapter-modal-title\", id: \"wallet-adapter-modal-title\" }, \"Connect Wallet\"),\n                    react_1.default.createElement(\"button\", { onClick: handleClose, className: \"wallet-adapter-modal-button-close\" },\n                        react_1.default.createElement(\"svg\", { width: \"14\", height: \"14\" },\n                            react_1.default.createElement(\"path\", { d: \"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z\" }))),\n                    react_1.default.createElement(\"ul\", { className: \"wallet-adapter-modal-list\" }, featured.map((wallet) => (react_1.default.createElement(WalletListItem_1.WalletListItem, { key: wallet.name, handleClick: (event) => handleWalletClick(event, wallet.name), wallet: wallet })))),\n                    more.length ? (react_1.default.createElement(react_1.default.Fragment, null,\n                        react_1.default.createElement(Collapse_1.Collapse, { expanded: expanded, id: \"wallet-adapter-modal-collapse\" },\n                            react_1.default.createElement(\"ul\", { className: \"wallet-adapter-modal-list\" }, more.map((wallet) => (react_1.default.createElement(WalletListItem_1.WalletListItem, { key: wallet.name, handleClick: (event) => handleWalletClick(event, wallet.name), tabIndex: expanded ? 0 : -1, wallet: wallet }))))),\n                        react_1.default.createElement(Button_1.Button, { \"aria-controls\": \"wallet-adapter-modal-collapse\", \"aria-expanded\": expanded, className: `wallet-adapter-modal-collapse-button ${expanded && 'wallet-adapter-modal-collapse-button-active'}`, endIcon: react_1.default.createElement(\"svg\", { width: \"11\", height: \"6\", xmlns: \"http://www.w3.org/2000/svg\" },\n                                react_1.default.createElement(\"path\", { d: \"m5.938 5.73 4.28-4.126a.915.915 0 0 0 0-1.322 1 1 0 0 0-1.371 0L5.253 3.736 1.659.272a1 1 0 0 0-1.371 0A.93.93 0 0 0 0 .932c0 .246.1.48.288.662l4.28 4.125a.99.99 0 0 0 1.37.01z\" })), onClick: handleCollapseClick },\n                            expanded ? 'Less' : 'More',\n                            \" options\"))) : null)),\n            react_1.default.createElement(\"div\", { className: \"wallet-adapter-modal-overlay\", onMouseDown: handleClose })), portal));\n};\nexports.WalletModal = WalletModal;\n//# sourceMappingURL=WalletModal.js.map"]},"metadata":{},"sourceType":"script"}